---
# yaml-language-server: $schema=https://json.schemastore.org/kustomization
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
resources: []
patchesJson6902:
  - target:
      group: operator.victoriametrics.com
      version: v1beta1
      kind: VMRule
      name: stack-k8s.rules.containermemoryswap
      namespace: observability
    patch: |-
      - op: replace
        path: /spec/groups/0/rules/0/expr
        value: 'container_memory_swap{job="kubelet",metrics_path="/metrics/cadvisor",image!=""} * on(cluster,namespace,pod) group_left(node) topk(1,max(kube_pod_info{node!=""}) by(cluster,namespace,pod,node)) by(cluster,namespace,pod) or vector(0)'

